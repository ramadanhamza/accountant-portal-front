<!--<nav class="navbar">
  <input class="form-control" type="text" name="recherche" [(ngModel)]="recherche" (ngModelChange)="search()" placeholder="Rechercher ...">
</nav>
<div class="card">
  <div class="card-header"></div>
  <div class="card-body">
    <table class="table table-striped table-hover">
      <thead>
        <th (click)="sort('email')">Client <i style="cursor: pointer;" class="fa fa-sort"></i></th>
        <th (click)="sort('sujet')">Sujet <i style="cursor: pointer;" class="fa fa-sort"></i></th>
        <th (click)="sort('message')" colspan="4">Message <i style="cursor: pointer;" class="fa fa-sort"></i></th>
      </thead>
      <tbody>
        <tr *ngFor="let c of contacts | orderBy: key: reverse | paginate: {itemsPerPage:30, currentPage:p}; index as i;">
          <td>{{c.client.email}}</td>
          <td>{{c.sujet}}</td>
          <td>{{c.message}}</td>
          <td><button type="button" class="btn btn-outline-primary" (click)="toggle()">{{buttonName}}</button></td>
          <td><button style="border: none; background-color: transparent;" (click)="delete(i)"><i class="fa fa-times"></i></button></td>
          <td>
            <ng-container *ngIf="show">
              <div><textarea rows="15"></textarea></div>
              <button type="button" class="btn btn-outline-primary" (click)="send($event.target, 'EnvoyÃ©')">Envoyer</button>
            </ng-container>
          </td>
        </tr>
      </tbody>
      <pagination-controls (pageChange)="p = $event"></pagination-controls>
    </table>
  </div>
</div>
-->

<nav class="navbar">
  <input class="form-control" type="text" name="recherche" [(ngModel)]="recherche" (ngModelChange)="search()" placeholder="Rechercher ...">
</nav>
<p>Liste des contacts</p>
<div>
  <div class="card-body" *ngFor="let c of contacts | paginate: {itemsPerPage:5, currentPage:p}; index as i;">
    <div class="row">
      <div class="col-11 contact-client">
        <div>Email<br>{{c.client.email}}</div>
        <div>Sujet<br>{{c.sujet}}</div>
        <div>Message<br>{{c.message}}</div>
      </div>
      <div class="col-1">
        <button style="border: none; background-color: transparent;" (click)="delete(i)"><i class="fa fa-times"></i></button>
      </div>
      <div class="col-1"><button type="button"  (click)="openDialog(c)" class="btn btn-outline-primary">Repondre</button></div>
    </div>
  </div>
</div>

<pagination-controls (pageChange)="p = $event"></pagination-controls>
